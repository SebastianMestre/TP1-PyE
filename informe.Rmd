---
title: "TP1"
output:
  pdf_document:
    toc: yes
    toc_depth: 3
    number_sections: yes
  html_document:
    toc: yes
    toc_depth: '3'
    df_print: paged
---
# Introducción
EcoBici es un sistema de bicicletas compartidas que funciona en la Ciudad de Buenos Aires, cuenta
con más de 200 estaciones y 1.200 rodados. Actualmente el sistema está presente en 30 de los 48
barrios de la Ciudad Autónoma de Buenos Aires, funcionando los 365 días del a˜no 24 horas. Existen
2 formas de usar el sistema: mediante una app o mediante una tarjeta. Mediante la app, el usuario
debe registrarse y, mediante su nombre de usuario y password, ingresa al sistema, elige la estación
en la que se encuentra y luego elige la bici que quiere. Mediante tarjeta, el usuario debe apoyarla
en un lector y el sistema le asigna una bicicleta. El usuario se moviliza por la ciudad durante
un tiempo limitado (30 minutos) y luego debe devolver la bicicleta en alguna de las estaciones
habilitadas. El sistema le asigna al usuario un id y registra datos tales como la edad, el género,
estación de origen, estación de destino... etc.  

# Objetivos

El objetivo de este informe es reflejar las características más notables acerca de los datos brindados.  
Para llevar esto a cabo se va a utilizar un software estadístico que permita efectuar un estudio
descriptivo que incluya: tablas de distribución de frecuencias, gráficos y medidas descriptivas.  

# Análisis

## Análisis univariado
### Edad

```{r message=FALSE, echo = FALSE, warning = FALSE}
library(qcc)

usuarios <- read.table("usuarios8.csv", header = TRUE, sep = ",")

hist(usuarios$edad, main="Distrubucion de edad de los usuarios", col="#D5B7E8", xlab="Edad", ylab="Frecuencia", xlim=range(10:70))
```
Se puede observar en este histograma que la mayoría de los usuarios estan en las franjas etarias más bajas. Más especificamente, a partir de los 40 años la cantidad de usuarios baja considerablemente. Una aclaración importante es que el número de personas que figuran entre 15 y 20 años es baja, ya que sólo estamos teniendo en cuenta los mayores a 18. 
```{r message=FALSE, echo = FALSE, warning = FALSE}
cortusuarios <- table(cut(usuarios$edad, breaks=10, right=FALSE, dig.lab = 0))
cumusuarios <- cumsum(cortusuarios)
tablausuarios <- cbind(cortusuarios,cumusuarios,cortusuarios/length(usuarios$edad),cumusuarios/length(usuarios$edad))
colnames(tablausuarios) <- (c("Frecuencia absoluta","Frecuencia absoluta acumulada","Frecuencia relativa","Frecuencia relativa acumulada"))
knitr::kable(tablausuarios)

```
En esta tabla podemos ver incluso mejor como llegado a los 33 años, la frecuencia acumulada es casi del 60%.

```{r message=FALSE, echo = FALSE, warning = FALSE}

recorridos <- read.table("recorridos8.csv", header = TRUE, sep = ",")
usuariosrecorridos <- merge(usuarios, recorridos)

hist(usuariosrecorridos$edad, xlab = "Edad", ylab = "Frecuencia", main = "Recorridos por Edad")

recorridos <- read.table("recorridos8.csv", header = TRUE, sep = ",")
usuariosrecorridos <- merge(usuarios, recorridos)

recxusu <- table(usuariosrecorridos$edad)/table(usuarios$edad)

barplot(recxusu, main="Viajes realizados por usuario, repartidos por edad", xlab="Edad", ylab="Viajes por usuario", ylim=range(0:14), col="#8E67A7")


```

El gráfico de ditribución de recorridos por edad nos muestra resultados similares a lo visto en el análisis de usuarios por edad.
Sin embargo, una cosa interesante sucede cuando se analiza los viajes realizados por usuario, repartiendolos en cada edad. Se puede ver que si bien hay una leve tendencia a que baje este número, no es nada determinante.
O sea, lo que podemos decir es que el hecho de que haya menos viajes realizados por gente mayor a 40 años, no tiene que ver tan directamente con que cada usuario haga menos viajes. Sino que se puede asociar también con el hecho de que son menos los usuarios en esas edades. Esto es lo que termina causando el tamaño de la disparidad.


